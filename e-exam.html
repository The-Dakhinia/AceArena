<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Exam</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="exam-container">
        <h2>Select Subject for Exam</h2>
        <select id="subject-select">
            <option value="">Select a Subject</option>
            <option value="math">Mathematics</option>
            <option value="science">Science</option>
            <option value="history">History</option>
        </select>
        <button id="start-exam">Start Exam</button>

        <div id="exam-section" style="display: none;">
            <h3 id="subject-name"></h3>
            <div id="question-container"></div>
            <button id="submit-exam" style="display: none;">Submit Exam</button>
        </div>

        <div id="result-section" style="display: none;">
            <h3>Score</h3>
            <p id="score"></p>
            <h4>Progress Report</h4>
            <p id="progress-report"></p>
        </div>
    </div>

    <script>
        const startExamButton = document.getElementById('start-exam');
        const subjectSelect = document.getElementById('subject-select');
        const examSection = document.getElementById('exam-section');
        const questionContainer = document.getElementById('question-container');
        const submitExamButton = document.getElementById('submit-exam');
        const resultSection = document.getElementById('result-section');
        const scoreElement = document.getElementById('score');
        const progressReportElement = document.getElementById('progress-report');

        const questions = {
            math: [
                { question: "What is 2 + 2?", choices: ["3", "4", "5"], answer: "4" },
                { question: "What is 5 * 5?", choices: ["10", "20", "25"], answer: "25" }
            ],
            science: [
                { question: "What planet is known as the Red Planet?", choices: ["Earth", "Mars", "Jupiter"], answer: "Mars" },
                { question: "What is H2O?", choices: ["Oxygen", "Hydrogen", "Water"], answer: "Water" }
            ],
            history: [
                { question: "Who was the first President of the United States?", choices: ["Abraham Lincoln", "George Washington", "Thomas Jefferson"], answer: "George Washington" },
                { question: "In what year did World War II end?", choices: ["1945", "1939", "1918"], answer: "1945" }
            ]
        };

        let currentSubject = '';
        let correctAnswers = 0;

        startExamButton.addEventListener('click', () => {
            currentSubject = subjectSelect.value;
            if (currentSubject) {
                examSection.style.display = 'block';
                document.getElementById('subject-name').textContent = `Exam: ${currentSubject}`;
                loadQuestions(currentSubject);
                startExamButton.style.display = 'none';
            } else {
                alert("Please select a subject.");
            }
        });

        function loadQuestions(subject) {
            questionContainer.innerHTML = '';
            questions[subject].forEach((q, index) => {
                const questionElement = document.createElement('div');
                questionElement.innerHTML = `<p>${q.question}</p>`;
                q.choices.forEach(choice => {
                    questionElement.innerHTML += `<input type="radio" name="question${index}" value="${choice}"> ${choice}<br>`;
                });
                questionContainer.appendChild(questionElement);
            });
            submitExamButton.style.display = 'block';
        }

        submitExamButton.addEventListener('click', () => {
            const userAnswers = Array.from(questionContainer.querySelectorAll('input[type="radio"]:checked'));
            correctAnswers = 0;
            questions[currentSubject].forEach((q, index) => {
                if (userAnswers[index] && userAnswers[index].value === q.answer) {
                    correctAnswers++;
                }
            });

            const totalQuestions = questions[currentSubject].length;
            const score = (correctAnswers / totalQuestions) * 100;
            scoreElement.textContent = `You scored: ${score}%`;
            progressReportElement.textContent = `You answered ${correctAnswers} out of ${totalQuestions} questions correctly.`;

            resultSection.style.display = 'block';
            examSection.style.display = 'none';
            startExamButton.style.display = 'block';
            submitExamButton.style.display = 'none';
        });
    </script>

</body>
</html>
